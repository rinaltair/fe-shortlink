var Vue3Autocounter=function(t){"use strict";function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,i=Array(n);r<n;r++)i[r]=t[r];return i}function r(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var i,e,u,a,o=[],s=!0,m=!1;try{if(u=(r=r.call(t)).next,0===n){if(Object(r)!==r)return;s=!1}else for(;!(s=(i=u.call(r)).done)&&(o.push(i.value),o.length!==n);s=!0);}catch(t){m=!0,e=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(m)throw e}}return o}}(t,r)||function(t,r){if(t){if("string"==typeof t)return n(t,r);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,r):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=t.defineComponent({name:"Vue3Autocounter",interval:null,props:{startAmount:{type:Number,default:0},endAmount:{type:Number,default:0,required:!0},duration:{type:Number,default:3,validator:function(t){return t>0}},autoinit:{type:Boolean,default:!0},prefix:{type:String,default:""},suffix:{type:String,default:""},separator:{type:String,default:","},decimalSeparator:{type:String,default:"."},decimals:{type:Number,default:0,validator:function(t){return t>=0}}},data:function(){return{timestamp:0,startTimestamp:0,currentAmount:0,currentStartAmount:0,currentDuration:0,paused:!1,remaining:0,animationFrame:0}},mounted:function(){this.currentAmount=this.startAmount,this.currentStartAmount=this.startAmount,this.currentDuration=1e3*this.duration,this.remaining=1e3*this.duration,this.autoinit?this.start():this.paused=!0,this.$emit("mounted")},unmounted:function(){this.cancelAnimation()},watch:{startAmount:function(){this.reset()},endAmount:function(){this.reset()},duration:function(){this.reset()}},computed:{isCountingUp:function(){return this.endAmount>this.startAmount},displayedAmount:function(){return"".concat(this.prefix).concat(this.formatedAmount).concat(this.suffix)},formatedAmount:function(){var t=/(\d+)(\d{3})/,n=this.currentAmount.toFixed(this.decimals),r=(n+="").split("."),i=r[0],e=r.length>1?this.decimalSeparator+r[1]:"",u=!isNaN(parseFloat(this.separator));if(this.separator&&!u)for(;t.test(i);)i=i.replace(t,"$1"+this.separator+"$2");return i+e}},methods:{start:function(){this.cancelAnimation(),this.currentStartAmount=this.startAmount,this.startTimestamp=null,this.currentDuration=1e3*this.duration,this.paused=!1,this.animationFrame=window.requestAnimationFrame(this.counting)},pause:function(){this.paused||(this.cancelAnimation(),this.paused=!0)},resume:function(){this.paused&&(this.startTimestamp=null,this.currentDuration=+this.remaining,this.currentStartAmount=+this.currentAmount,this.animationFrame=window.requestAnimationFrame(this.counting),this.paused=!1)},reset:function(){this.paused=!1,this.startTimestamp=null,this.cancelAnimation(),this.currentAmount=this.startAmount,this.autoinit?this.start():this.paused=!0},counting:function(t){this.timestamp=t,this.startTimestamp||(this.startTimestamp=t);var n=t-this.startTimestamp;this.remaining=this.currentDuration-n,this.isCountingUp?(this.currentAmount=this.currentStartAmount+(this.endAmount-this.currentStartAmount)*(n/this.currentDuration),this.currentAmount=this.currentAmount>this.endAmount?this.endAmount:this.currentAmount):(this.currentAmount=this.currentStartAmount-(this.currentStartAmount-this.endAmount)*(n/this.currentDuration),this.currentAmount=this.currentAmount<this.endAmount?this.endAmount:this.currentAmount),n<this.currentDuration?this.animationFrame=window.requestAnimationFrame(this.counting):this.$emit("finished")},cancelAnimation:function(){this.animationFrame&&window.cancelAnimationFrame(this.animationFrame)}}});i.render=function(n,r,i,e,u,a){return t.openBlock(),t.createElementBlock("span",null,t.toDisplayString(n.displayedAmount),1)};var e=function(){var t=i;return t.install=function(n){n.component("Vue3Autocounter",t)},t}(),u=Object.freeze({__proto__:null,default:e});return Object.entries(u).forEach((function(t){var n=r(t,2),i=n[0],u=n[1];"default"!==i&&(e[i]=u)})),e}(Vue);